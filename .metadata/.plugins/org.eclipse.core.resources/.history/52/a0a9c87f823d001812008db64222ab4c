package com.yibo.service.admin.impl;

import java.sql.SQLException;
import java.util.List;

import com.yibo.bean.PageBean;
import com.yibo.bean.Product;
import com.yibo.constant.Constant;
import com.yibo.dao.admin.AdminProductDao;
import com.yibo.dao.admin.impl.AdminProductDaoImpl;
import com.yibo.service.admin.AdminProductService;

public class AdminProductServiceImpl implements AdminProductService {


	@Override
	public PageBean<Product> findProPage(int curPage) {
		//创建pageBean用于封装数据
		PageBean<Product> pb = new PageBean<>();
		//调用dao层方法查询上架商品总的数量
		AdminProductDao dao = new AdminProductDaoImpl();
		try {
			int totalSize = dao.findProCount();
			//根据总商品数量和每页显示商品数量，计算页数,用的三元表达式
			int totalPage = totalSize%Constant.ADMIN_PRODUCT_PAGESIZE==0?totalSize/Constant.ADMIN_PRODUCT_PAGESIZE:totalSize/Constant.ADMIN_PRODUCT_PAGESIZE+1;
			//获取每页商品要展示的数据
			List<Product> list = dao.findProAll(curPage,Constant.ADMIN_PRODUCT_PAGESIZE);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return null;
	}

}
